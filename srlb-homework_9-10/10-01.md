# Домашнее задание к занятию 10.1 «Keepalived/vrrp»** Домашнее задание выполните в Google Docs и отправьте в личном кабинете на проверку ссылку на ваш документ.Название файла должно содержать номер лекции и фамилию студента. Пример названия: «10.1 Keepalived/vrrp — Александр Александров»Перед тем как выслать ссылку, убедитесь, что её содержимое не приватно, т. е.  открыто на просмотр всем, у кого есть ссылка. Если нужно прикрепить дополнительные ссылки, просто добавьте их в Google Docs.Любые вопросы по решению задач задавайте в чате учебной группы.---### Задание 1Разверните топологию из лекции и выполните установку и настройку сервиса Keepalived. ```vrrp_instance test {state "name_mode"interface "name_interface"virtual_router_id "number id"priority "number priority"advert_int "number advert"authentication {auth_type "auth type"auth_pass "password"}unicast_peer {"ip address host"}virtual_ipaddress {"ip address host" dev "interface" label "interface":vip}}```*Пришлите скриншот рабочей конфигурации и состояния сервиса для каждого нода.*#### Ответ:Конфиг для мастера:```# Инстанс с названием test (может быть любое название, но разное в пределах ВМ)vrrp_instance test {    # Начальное состояние при запуске: MASTER | BACKUP    state MASTER    # Интерфейс, на котором будет работать VRRP    interface enp0s3    # Уникальный идентификатор VRRP экземпляра, должен совпадать на всех серверах (0-255)    virtual_router_id 4    # Приоритет (0-255). У кого выше тот и главный.     # Даже если состояние БЭКАП, а не МАСТЕР, но если приоритет выше     # чем у МАСТЕРа, то БЭКАП станет главным.    priority 100    # Список виртуальных IP адресов, которые будут активны на сервере в состоянии MASTER.     # Должны совпадать на всех серверах внутри VRRP экземпляра.    virtual_ipaddress {        192.168.60.202 dev enp0s3 label enp0s3:vip    }}```Конфиг для второго хоста:```vrrp_instance test {    state BACKUP    interface enp0s3    virtual_router_id 4    priority 80    virtual_ipaddress {        192.168.60.202 dev enp0s3 label enp0s3:vip    }}```Хост мастер:![](src/resources/10.01/01.png)Хост бэкап:![](src/resources/10.01/02.png)## Дополнительные задания со звёздочкой*Эти задания дополнительные. Их можно не выполнять. На зачёт это не повлияет. Вы можете их выполнить, если хотите глубже разобраться в материале. ### Задание 2*Проведите тестирование работы ноды, когда один из интерфейсов выключен. Для этого:- добавьте ещё одну виртуальную машину и включите её в сеть;- на машине установите Wireshark и запустите процесс прослеживания интерфейса;- запустите процесс ping на виртуальный хост;- выключите интерфейс на одной ноде (мастер), остановите Wireshark;- найдите пакеты ICMP, в которых будет отображён процесс изменения MAC-адреса одной ноды на другой.  *Пришлите скриншот до и после выключения интерфейса из Wireshark.*