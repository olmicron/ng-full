# Домашнее задание к занятию "6.1. Типы и структура СУБД"

## Введение

Перед выполнением задания вы можете ознакомиться с 
[дополнительными материалами](https://github.com/netology-code/virt-homeworks/tree/master/additional/README.md).

## Задача 1

Архитектор ПО решил проконсультироваться у вас, какой тип БД 
лучше выбрать для хранения определенных данных.

Он вам предоставил следующие типы сущностей, которые нужно будет хранить в БД:

- Электронные чеки в json виде
- Склады и автомобильные дороги для логистической компании
- Генеалогические деревья
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации
- Отношения клиент-покупка для интернет-магазина

Выберите подходящие типы СУБД для каждой сущности и объясните свой выбор.

#### Ответ

- Электронные чеки в json виде - NoSQL, т.к. мы не знаем какие данные будут в json. Их можно напрямую записать в БД (монгоБД вроде бы работает с json), или записать строкой в redis как вариант.
- Склады и автомобильные дороги для логистической компании - Не совсем понято значение "автомобильные дороги", если под этим подразумевается маршруты между складами или доставки/заказа и т.п., то возможно взял бы NoSQL БД. А если это просто обозначения дорог (допустим М1, М3 ...), то может подобрал бы SQL решение. 
- Генеалогические деревья - ну тут наверное документоориентированные СУБД просятся, типо монги, т.к. каждый документ будет содержать информацию о объекте (например человеке) и его потомках.
- Кэш идентификаторов клиентов с ограниченным временем жизни для движка аутенфикации - тут взял бы redis, причём наверное не писал бы данные на харды, а хранил бы всё только в оперативке (зависит от ситуации).
- Отношения клиент-покупка для интернет-магазина - тут я бы использовал SQL решение, т.к. у нас есть четкая (структурированная и фиксированная) информация о клиенте и о товаре или целом заказе (например номер заказа, цена, дата и т.п.). Если надо хранить список товаров - то смотря как его хранить, если просто списком (текст) - можно в text засунуть, а иначе тогда я бы взял NoSQL БД. 

## Задача 2

Вы создали распределенное высоконагруженное приложение и хотите классифицировать его согласно 
CAP-теореме. Какой классификации по CAP-теореме соответствует ваша система, если 
(каждый пункт - это отдельная реализация вашей системы и для каждого пункта надо привести классификацию):

1. Данные записываются на все узлы с задержкой до часа (асинхронная запись)
2. При сетевых сбоях, система может разделиться на 2 раздельных кластера
3. Система может не прислать корректный ответ или сбросить соединение

А согласно PACELC-теореме, как бы вы классифицировали данные реализации?

#### Ответ

1. AP; PA/EC
2. P; PA/EL
3. CP; PC/EC


## Задача 3

Могут ли в одной системе сочетаться принципы BASE и ACID? Почему?

#### Ответ

Если правильно понял из лекции, там говорилось что они противоположны и не могут сочетаться, т.к. первая (base) не гарантирует консистентность данных, а АСИД наоборот.

## Задача 4

Вам дали задачу написать системное решение, основой которого бы послужили:

- фиксация некоторых значений с временем жизни
- реакция на истечение таймаута

Вы слышали о key-value хранилище, которое имеет механизм [Pub/Sub](https://habr.com/ru/post/278237/). 
Что это за система? Какие минусы выбора данной системы?

#### Ответ

Предположу что это redis и используется как кэш.
Минусы я вижу такие, что данные, которые не утратили актуальность и к которым часто обращаются, будут удалены из кэша, и наоборот - данные которые не нужны, будут долго висеть в кэше. Если говорить о минусах в целом по самому редису - я для себя их не знаю, по мне редис отличная штука. :)

---

### Как cдавать задание

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

---
